

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Performing simulations &mdash; N2D2  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Performance evaluation tools" href="perfs_tools.html" />
    <link rel="prev" title="About N2D2-IP" href="about.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> N2D2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About N2D2-IP</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performing simulations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-the-latest-version-of-this-manual">Obtaining the latest version of this manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="#minimum-system-requirements">Minimum system requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-n2d2">Obtaining N2D2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#red-hat-enterprise-linux-rhel-6">Red Hat Enterprise Linux (RHEL) 6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu">Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-sources">Getting the sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compilation">Compilation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-training-datasets">Downloading training datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-learning">Run the learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-a-learned-network">Test a learned network</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interpreting-the-results">Interpreting the results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recognition-rate">Recognition rate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#confusion-matrix">Confusion matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-and-computation-requirements">Memory and computation requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernels-and-weights-distribution">Kernels and weights distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-maps-activity">Output maps activity</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perfs_tools.html">Performance evaluation tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuto.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">ONNX Import:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="onnx_convert.html">Obtain ONNX models</a></li>
<li class="toctree-l1"><a class="reference internal" href="onnx_import.html">Import ONNX models</a></li>
<li class="toctree-l1"><a class="reference internal" href="onnx_transfer.html">Train from ONNX models</a></li>
</ul>
<p class="caption"><span class="caption-text">Quantization and Export:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quant_post.html">Post-training quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="quant_qat.html">Quantization aware training</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_CPP.html">Export: C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_TensorRT.html">Export: TensorRT</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_DNeuro.html">Export: DNeuro</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_legacy.html">Export: other / legacy</a></li>
</ul>
<p class="caption"><span class="caption-text">INI File Interface:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ini_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_data_analysis.html">Stimuli data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_environment.html">Stimuli provider (Environment)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_layers.html">Network Layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ini_target.html">Targets (outputs &amp; losses)</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="cells.html">Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="stimuliprovider.html">StimuliProvider</a></li>
<li class="toctree-l1"><a class="reference internal" href="deepnet.html">DeepNet</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">N2D2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Performing simulations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/simus.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="performing-simulations">
<h1>Performing simulations<a class="headerlink" href="#performing-simulations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="obtaining-the-latest-version-of-this-manual">
<h2>Obtaining the latest version of this manual<a class="headerlink" href="#obtaining-the-latest-version-of-this-manual" title="Permalink to this headline">¶</a></h2>
<p>The latest version of this manual can be found at <a class="reference external" href="https://cea-list.github.io/N2D2/">https://cea-list.github.io/N2D2/</a>.</p>
</div>
<div class="section" id="minimum-system-requirements">
<h2>Minimum system requirements<a class="headerlink" href="#minimum-system-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Supported processors:</p>
<ul>
<li><p>ARM Cortex A15 (tested on Tegra K1)</p></li>
<li><p>ARM Cortex A53/A57 (tested on Tegra X1)</p></li>
<li><p>Pentium-compatible PC (Pentium III, Athlon or more-recent system
recommended)</p></li>
</ul>
</li>
<li><p>Supported operating systems:</p>
<ul>
<li><p>Windows <span class="math notranslate nohighlight">\(\geq\)</span> 7 or Windows Server
<span class="math notranslate nohighlight">\(\geq\)</span> 2012, 64 bits with Visual Studio <span class="math notranslate nohighlight">\(\geq\)</span> 2015.2 (2015
Update 2)</p></li>
<li><p>GNU/Linux with GCC <span class="math notranslate nohighlight">\(\geq\)</span> 4.4 (tested on RHEL
<span class="math notranslate nohighlight">\(\geq\)</span> 6, Debian <span class="math notranslate nohighlight">\(\geq\)</span> 6, Ubuntu <span class="math notranslate nohighlight">\(\geq\)</span> 14.04)</p></li>
</ul>
</li>
<li><p>At least 256 MB of RAM (1 GB with GPU/CUDA) for MNIST dataset processing</p></li>
<li><p>At least 150 MB available hard disk space + 350 MB for MNIST dataset
processing</p></li>
</ul>
<p>For CUDA acceleration:</p>
<ul class="simple">
<li><p>CUDA <span class="math notranslate nohighlight">\(\geq\)</span> 6.5 and CuDNN <span class="math notranslate nohighlight">\(\geq\)</span> 1.0</p></li>
<li><p>NVIDIA GPU with CUDA compute capability <span class="math notranslate nohighlight">\(\geq\)</span> 3 (starting from
<em>Kepler</em> micro-architecture)</p></li>
<li><p>At least 512 MB GPU RAM for MNIST dataset processing</p></li>
</ul>
</div>
<div class="section" id="obtaining-n2d2">
<h2>Obtaining N2D2<a class="headerlink" href="#obtaining-n2d2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<div class="section" id="red-hat-enterprise-linux-rhel-6">
<h4>Red Hat Enterprise Linux (RHEL) 6<a class="headerlink" href="#red-hat-enterprise-linux-rhel-6" title="Permalink to this headline">¶</a></h4>
<p>Make sure you have the following packages installed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cmake</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gnuplot</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opencv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opencv-devel</span></code> (may require the <code class="docutils literal notranslate"><span class="pre">rhel-x86_64-workstation-optional-6</span></code>
repository channel)</p></li>
</ul>
<p>Plus, to be able to use GPU acceleration:</p>
<ul class="simple">
<li><p>Install the CUDA repository package:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rpm</span> <span class="o">-</span><span class="n">Uhv</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">developer</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">compute</span><span class="o">/</span><span class="n">cuda</span><span class="o">/</span><span class="n">repos</span><span class="o">/</span><span class="n">rhel6</span><span class="o">/</span><span class="n">x86_64</span><span class="o">/</span><span class="n">cuda</span><span class="o">-</span><span class="n">repo</span><span class="o">-</span><span class="n">rhel6</span><span class="o">-</span><span class="mf">7.5</span><span class="o">-</span><span class="mf">18.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span>
<span class="n">yum</span> <span class="n">clean</span> <span class="n">expire</span><span class="o">-</span><span class="n">cache</span>
<span class="n">yum</span> <span class="n">install</span> <span class="n">cuda</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Install cuDNN from the NVIDIA website: register to <a class="reference external" href="https://developer.nvidia.com/cudnn">NVIDIA
Developer</a> and download the
latest version of cuDNN. Simply copy the header and library files from
the cuDNN archive to the corresponding directories in the CUDA
installation path (by default: /usr/local/cuda/include and
/usr/local/cuda/lib64, respectively).</p></li>
<li><p>Make sure the CUDA library path (e.g. /usr/local/cuda/lib64) is added to
the LD_LIBRARY_PATH environment variable.</p></li>
</ul>
</div>
<div class="section" id="ubuntu">
<h4>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h4>
<p>Make sure you have the following packages installed, if they are
available on your Ubuntu version:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cmake</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gnuplot</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libopencv-dev</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libcv-dev</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libhighgui-dev</span></code></p></li>
</ul>
<p>Plus, to be able to use GPU acceleration:</p>
<ul class="simple">
<li><p>Install the CUDA repository package matching your distribution. For
example, for Ubuntu 14.04 64 bits:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wget http://developer.download.nvidia.com/compute/cuda/repos/ubuntu!\color{gray}{1404}!/!\color{gray}{x86\_64}!/cuda-repo-ubuntu!\color{gray}{1404}!_7.5-18_!\color{gray}{amd64}!.deb
dpkg -i cuda-repo-ubuntu!\color{gray}{1404}!_7.5-18_!\color{gray}{amd64}!.deb
</pre></div>
</div>
<ul class="simple">
<li><p>Install the cuDNN repository package matching your distribution. For
example, for Ubuntu 14.04 64 bits:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  wget http://developer.download.nvidia.com/compute/machine-learning/repos/ubuntu!\color{gray}{1404}!/!\color{gray}{x86\_64}!/nvidia-machine-learning-repo-ubuntu!\color{gray}{1404}!_4.0-2_!\color{gray}{amd64}!.deb
  dpkg -i nvidia-machine-learning-repo-ubuntu!\color{gray}{1404}!_4.0-2_!\color{gray}{amd64}!.deb

Note that the cuDNN repository package is provided by NVIDIA for Ubuntu
starting from version 14.04.
</pre></div>
</div>
<ul class="simple">
<li><p>Update the package lists: <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">update</span></code></p></li>
<li><p>Install the CUDA and cuDNN required packages:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">cuda</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="mi">5</span> <span class="n">cuda</span><span class="o">-</span><span class="n">cudart</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="mi">5</span> <span class="n">cuda</span><span class="o">-</span><span class="n">cublas</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="mi">5</span> <span class="n">cuda</span><span class="o">-</span><span class="n">curand</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="mi">5</span> <span class="n">libcudnn5</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Make sure there is a symlink to <code class="docutils literal notranslate"><span class="pre">/usr/local/cuda</span></code>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">cuda</span><span class="o">-</span><span class="mf">7.5</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">cuda</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Make sure the CUDA library path (e.g. /usr/local/cuda/lib64) is added to
the LD_LIBRARY_PATH environment variable.</p></li>
</ul>
</div>
<div class="section" id="windows">
<h4>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<p>On Windows 64 bits, Visual Studio <span class="math notranslate nohighlight">\(\geq\)</span> 2015.2 (2015 Update 2) is
required.</p>
<p>Make sure you have the following software installed:</p>
<ul class="simple">
<li><p>CMake (<a class="reference external" href="http://www.cmake.org/">http://www.cmake.org/</a>): download and run the Windows installer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dirent.h</span></code> C++ header (<a class="reference external" href="https://github.com/tronkko/dirent">https://github.com/tronkko/dirent</a>): to be put
in the Visual Studio include path.</p></li>
<li><p>Gnuplot (<a class="reference external" href="http://www.gnuplot.info/">http://www.gnuplot.info/</a>): the bin sub-directory in the install
path needs to be added to the Windows <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p></li>
<li><p>OpenCV (<a class="reference external" href="http://opencv.org/">http://opencv.org/</a>): download the latest 2.x version for Windows
and extract it to, for example, <code class="docutils literal notranslate"><span class="pre">C:\OpenCV\</span></code>. Make sure to define the
environment variable <code class="docutils literal notranslate"><span class="pre">OpenCV_DIR</span></code> to point to
<code class="docutils literal notranslate"><span class="pre">C:\OpenCV\opencv\build</span></code>. Make sure to add the bin sub-directory
(<code class="docutils literal notranslate"><span class="pre">C:\OpenCV\opencv\build\x64\vc12\bin</span></code>) to the Windows <code class="docutils literal notranslate"><span class="pre">PATH</span></code>
environment variable.</p></li>
</ul>
<p>Plus, to be able to use GPU acceleration:</p>
<ul class="simple">
<li><p>Download and install CUDA toolkit 8.0 located at
<a class="reference external" href="https://developer.nvidia.com/compute/cuda/8.0/prod/local_installers/cuda_8.0.44_windows-exe">https://developer.nvidia.com/compute/cuda/8.0/prod/local_installers/cuda_8.0.44_windows-exe</a>:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rename</span> <span class="n">cuda_8</span><span class="o">.</span><span class="mf">0.44</span><span class="n">_windows</span><span class="o">-</span><span class="n">exe</span> <span class="n">cuda_8</span><span class="o">.</span><span class="mf">0.44</span><span class="n">_windows</span><span class="o">.</span><span class="n">exe</span>
<span class="n">cuda_8</span><span class="o">.</span><span class="mf">0.44</span><span class="n">_windows</span><span class="o">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">s</span> <span class="n">compiler_8</span><span class="o">.</span><span class="mi">0</span> <span class="n">cublas_8</span><span class="o">.</span><span class="mi">0</span> <span class="n">cublas_dev_8</span><span class="o">.</span><span class="mi">0</span> <span class="n">cudart_8</span><span class="o">.</span><span class="mi">0</span> <span class="n">curand_8</span><span class="o">.</span><span class="mi">0</span> <span class="n">curand_dev_8</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">ProgramFiles</span><span class="o">%</span>\<span class="n">NVIDIA</span> <span class="n">GPU</span> <span class="n">Computing</span> <span class="n">Toolkit</span>\<span class="n">CUDA</span>\<span class="n">v8</span><span class="o">.</span><span class="mi">0</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">ProgramFiles</span><span class="o">%</span>\<span class="n">NVIDIA</span> <span class="n">GPU</span> <span class="n">Computing</span> <span class="n">Toolkit</span>\<span class="n">CUDA</span>\<span class="n">v8</span><span class="o">.</span><span class="mi">0</span>\<span class="n">libnvvp</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Download and install cuDNN 8.0 located at
<a class="reference external" href="http://developer.download.nvidia.com/compute/redist/cudnn/v5.1/cudnn-8.0-windows7-x64-v5.1.zip">http://developer.download.nvidia.com/compute/redist/cudnn/v5.1/cudnn-8.0-windows7-x64-v5.1.zip</a>
(the following command assumes that you have 7-Zip installed):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span><span class="n">z</span> <span class="n">x</span> <span class="n">cudnn</span><span class="o">-</span><span class="mf">8.0</span><span class="o">-</span><span class="n">windows7</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">v5</span><span class="o">.</span><span class="mf">1.</span><span class="n">zip</span>
<span class="n">copy</span> <span class="n">cuda</span>\<span class="n">include</span>\<span class="o">*.*</span> <span class="o">^</span>
  <span class="s2">&quot;%ProgramFiles%\NVIDIA GPU Computing Toolkit\CUDA</span><span class="se">\v</span><span class="s2">8.0\include</span><span class="se">\&quot;</span>
<span class="n">copy</span> <span class="n">cuda</span>\<span class="n">lib</span>\<span class="n">x64</span>\<span class="o">*.*</span> <span class="o">^</span>
  <span class="s2">&quot;%ProgramFiles%\NVIDIA GPU Computing Toolkit\CUDA</span><span class="se">\v</span><span class="s2">8.0\lib</span><span class="se">\x64\&quot;</span>
<span class="n">copy</span> <span class="n">cuda</span>\<span class="nb">bin</span>\<span class="o">*.*</span> <span class="o">^</span>
  <span class="s2">&quot;%ProgramFiles%\NVIDIA GPU Computing Toolkit\CUDA</span><span class="se">\v</span><span class="s2">8.0</span><span class="se">\b</span><span class="s2">in</span><span class="se">\&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getting-the-sources">
<h3>Getting the sources<a class="headerlink" href="#getting-the-sources" title="Permalink to this headline">¶</a></h3>
<p>Use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">CEA</span><span class="o">-</span><span class="n">LIST</span><span class="o">/</span><span class="n">N2D2</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="compilation">
<h3>Compilation<a class="headerlink" href="#compilation" title="Permalink to this headline">¶</a></h3>
<p>To compile the program:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span>
</pre></div>
</div>
<p>On Windows, you may have to specify the generator, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">G</span><span class="s2">&quot;Visual Studio 14&quot;</span>
</pre></div>
</div>
<p>Then open the newly created N2D2 project in Visual Studio 2015. Select
“Release” for the build target. Right click on <code class="docutils literal notranslate"><span class="pre">ALL_BUILD</span></code> item and
select “Build”.</p>
</div>
</div>
<div class="section" id="downloading-training-datasets">
<h2>Downloading training datasets<a class="headerlink" href="#downloading-training-datasets" title="Permalink to this headline">¶</a></h2>
<p>A python script located in the repository root directory allows you to
select and automatically download some well-known datasets, like MNIST
and GTSRB (the script requires Python 2.x with bindings for GTK 2
package):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">tools</span><span class="o">/</span><span class="n">install_stimuli_gui</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>By default, the datasets are downloaded in the path specified in the
<code class="docutils literal notranslate"><span class="pre">N2D2_DATA</span></code> environment variable, which is the root path used by the
N2D2 tool to locate the databases. If the <code class="docutils literal notranslate"><span class="pre">N2D2_DATA</span></code> variable is not
set, the default value used is /local/$USER/n2d2_data/ (or
/local/n2d2_data/ if the <code class="docutils literal notranslate"><span class="pre">USER</span></code> environment variable is not set) on
Linux and C:\n2d2_data\ on Windows.</p>
<p>Please make sure you have write access to the <code class="docutils literal notranslate"><span class="pre">N2D2_DATA</span></code> path, or if
not set, in the default /local/$USER/n2d2_data/ path.</p>
</div>
<div class="section" id="run-the-learning">
<h2>Run the learning<a class="headerlink" href="#run-the-learning" title="Permalink to this headline">¶</a></h2>
<p>The following command will run the learning for 600,000 image
presentations/steps and log the performances of the network every 10,000
steps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">n2d2</span> <span class="s2">&quot;mnist24_16c4s2_24c5s2_150_10.ini&quot;</span> <span class="o">-</span><span class="n">learn</span> <span class="mi">600000</span> <span class="o">-</span><span class="n">log</span> <span class="mi">10000</span>
</pre></div>
</div>
<p>Note: you may want to check the gradient computation using the
<code class="docutils literal notranslate"><span class="pre">-check</span></code> option. Note that it can be extremely long and can
occasionally fail if the required precision is too high.</p>
</div>
<div class="section" id="test-a-learned-network">
<h2>Test a learned network<a class="headerlink" href="#test-a-learned-network" title="Permalink to this headline">¶</a></h2>
<p>After the learning is completed, this command evaluate the network
performances on the test data set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">n2d2</span> <span class="s2">&quot;mnist24_16c4s2_24c5s2_150_10.ini&quot;</span> <span class="o">-</span><span class="n">test</span>
</pre></div>
</div>
<div class="section" id="interpreting-the-results">
<h3>Interpreting the results<a class="headerlink" href="#interpreting-the-results" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recognition-rate">
<h4>Recognition rate<a class="headerlink" href="#recognition-rate" title="Permalink to this headline">¶</a></h4>
<p>The recognition rate and the validation score are reported during the
learning in the <em>TargetScore_/Success_validation.png</em> file, as shown
in figure [fig:validationScore].</p>
<div class="figure align-default" id="id1">
<img alt="Recognition rate and validation score during learning." src="_images/validation_score.png" />
<p class="caption"><span class="caption-text">Recognition rate and validation score during learning.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="confusion-matrix">
<h4>Confusion matrix<a class="headerlink" href="#confusion-matrix" title="Permalink to this headline">¶</a></h4>
<p>The software automatically outputs the confusion matrix during learning,
validation and test, with an example shown in figure
[fig:ConfusionMatrix]. Each row of the matrix contains the number of
occurrences estimated by the network for each label, for all the data
corresponding to a single actual, target label. Or equivalently, each
column of the matrix contains the number of actual, target label
occurrences, corresponding to the same estimated label. Idealy, the
matrix should be diagonal, with no occurrence of an estimated label for
a different actual label (network mistake).</p>
<div class="figure align-default" id="id2">
<img alt="Example of confusion matrix obtained after the learning." src="_images/confusion_matrix.png" />
<p class="caption"><span class="caption-text">Example of confusion matrix obtained after the learning.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The confusion matrix reports can be found in the simulation directory:</p>
<ul class="simple">
<li><p><em>TargetScore_/ConfusionMatrix_learning.png</em>;</p></li>
<li><p><em>TargetScore_/ConfusionMatrix_validation.png</em>;</p></li>
<li><p><em>TargetScore_/ConfusionMatrix_test.png</em>.</p></li>
</ul>
</div>
<div class="section" id="memory-and-computation-requirements">
<h4>Memory and computation requirements<a class="headerlink" href="#memory-and-computation-requirements" title="Permalink to this headline">¶</a></h4>
<p>The software also report the memory and computation requirements of the
network, as shown in figure [fig:stats]. The corresponding report can be
found in the <em>stats</em> sub-directory of the simulation.</p>
<div class="figure align-default" id="id3">
<img alt="Example of memory and computation requirements of the network." src="_images/stats.png" />
<p class="caption"><span class="caption-text">Example of memory and computation requirements of the network.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="kernels-and-weights-distribution">
<h4>Kernels and weights distribution<a class="headerlink" href="#kernels-and-weights-distribution" title="Permalink to this headline">¶</a></h4>
<p>The synaptic weights obtained during and after the learning can be
analyzed, in terms of distribution (<em>weights</em> sub-directory of the
simulation) or in terms of kernels (<em>kernels</em> sub-directory of the
simulation), as shown in [fig:weights].</p>
</div>
<div class="section" id="output-maps-activity">
<h4>Output maps activity<a class="headerlink" href="#output-maps-activity" title="Permalink to this headline">¶</a></h4>
<p>The initial output maps activity for each layer can be visualized in the
<em>outputs_init</em> sub-directory of the simulation, as shown in figure
[fig:outputs].</p>
<div class="figure align-default" id="id4">
<img alt="Output maps activity example of the first convolutional layer of the network." src="_images/conv1-dat.png" />
<p class="caption"><span class="caption-text">Output maps activity example of the first convolutional layer of the
network.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="perfs_tools.html" class="btn btn-neutral float-right" title="Performance evaluation tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="about.html" class="btn btn-neutral float-left" title="About N2D2-IP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CEA LIST

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>